# インフラ構成学習ロードマップ

## 🎯 **学習の全体像**

このロードマップは、**肌感で理解する**ことを重視した実践的なインフラ学習プログラムです。

### **学習期間**: 2-4週間
### **総費用**: 約5,000円〜8,000円
### **習得スキル**: Docker、VPS運用、AWS、Terraform、インフラ運用

---

## 📅 **推奨学習スケジュール**

### **Week 1: 基礎理解とローカル環境**
| 日 | フェーズ | 内容 | 所要時間 | 費用 |
|---|---|---|---|---|
| 1-2日目 | **Phase 0** | ローカル環境でStrapi+Next.js体験 | 2-4時間 | 無料 |
| 3日目 | **準備** | VPS・ドメイン申し込み、DNS設定 | 1-2時間 | 約2,000円 |
| 4-6日目 | **Phase 2** | VPS構成の構築と運用体験 | 6-8時間 | 月額700円 |
| 7日目 | **振り返り** | Phase 0-2の比較と記録整理 | 1-2時間 | - |

### **Week 2: クラウド環境への挑戦**
| 日 | フェーズ | 内容 | 所要時間 | 費用 |
|---|---|---|---|---|
| 8日目 | **準備** | AWSアカウント作成、Terraform環境構築 | 2-3時間 | 無料 |
| 9-11日目 | **Phase 3** | AWS Strapi-only構成の構築 | 6-8時間 | $0-10 |
| 12-14日目 | **Phase 4** | 全AWS構成の構築（オプション） | 6-8時間 | $0-20 |

### **Week 3-4: 比較分析と深掘り**
| 日 | フェーズ | 内容 | 所要時間 |
|---|---|---|---|
| 15-16日目 | **Phase 5** | 3構成の詳細比較と分析 | 4-6時間 |
| 17-21日目 | **深掘り** | 興味のある分野の深掘り学習 | 自由 |
| 22-28日目 | **実践** | 独自プロジェクトでの応用 | 自由 |

---

## 🚀 **Phase 0: 今すぐ開始（必須）**

### **目的**: 基本的な仕組みの理解
### **所要時間**: 1-2時間
### **費用**: 無料

#### **実施内容**
- [ ] Strapiアプリケーションの作成
- [ ] Next.jsアプリケーションの作成
- [ ] API連携の確認
- [ ] 基本的なCRUD操作の体験

#### **学習ポイント**
- CMSとWebアプリの関係
- REST APIの基本
- 開発環境の構築手順

#### **次のステップ**
✅ **完了したら**: `docs/vps-account-setup.md` でVPS準備

---

## 🖥️ **Phase 2: VPS構成（推奨）**

### **目的**: 手動運用の大変さを体験
### **所要時間**: 3日間（6-8時間）
### **費用**: 約3,000円（3ヶ月）

#### **準備段階**
- [ ] VPSアカウント作成（さくらのVPS推奨）
- [ ] ドメイン取得（お名前.com推奨）
- [ ] DNS設定
- [ ] SSH接続確認

#### **Day 1: 環境構築**
- [ ] Docker、Docker Compose インストール
- [ ] SSL証明書の取得（Let's Encrypt）
- [ ] 基本的なセキュリティ設定
- [ ] ファイアウォール設定

#### **Day 2: アプリケーションデプロイ**
- [ ] Docker Composeでの環境構築
- [ ] データベース初期化
- [ ] Nginx設定とSSL適用
- [ ] 動作確認とテスト

#### **Day 3: 運用体験**
- [ ] 監視スクリプトの設定
- [ ] バックアップ手順の実行
- [ ] 障害シミュレーション
- [ ] ログ分析とトラブルシューティング

#### **体験すべき「大変さ」**
- 手動でのSSL証明書更新
- サーバーの監視とアラート対応
- データベースのバックアップ管理
- セキュリティアップデートの適用
- 障害時の復旧作業

#### **記録すべきポイント**
- 各作業の所要時間
- 詰まったポイントと解決方法
- 「面倒だな」と感じた作業
- 「怖いな」と感じた瞬間

---

## ☁️ **Phase 3: AWS Strapi-only構成**

### **目的**: クラウドの複雑さと便利さを体験
### **所要時間**: 3日間（6-8時間）
### **費用**: $0-10（無料利用枠内）

#### **準備段階**
- [ ] AWSアカウント作成
- [ ] IAMユーザー作成
- [ ] 請求アラート設定
- [ ] Terraform環境構築

#### **Day 1: インフラ構築**
- [ ] Terraformでの基本インフラ作成
- [ ] VPC、サブネット、セキュリティグループ
- [ ] RDSデータベースの作成
- [ ] S3バケットの作成

#### **Day 2: アプリケーションデプロイ**
- [ ] ECRへのDockerイメージプッシュ
- [ ] ECSサービスの作成
- [ ] ALBの設定とドメイン接続
- [ ] Route 53でのDNS設定

#### **Day 3: 運用と監視**
- [ ] CloudWatchでの監視設定
- [ ] ログの確認と分析
- [ ] Auto Scalingの設定
- [ ] 費用分析とコスト最適化

#### **VPSとの比較ポイント**
- 設定の複雑さ vs 自動化の恩恵
- 初期構築時間の違い
- 運用負荷の違い
- コストの透明性
- スケーラビリティの違い

---

## 🌐 **Phase 4: 全AWS構成（オプション）**

### **目的**: フルマネージドサービスの体験
### **所要時間**: 3日間（6-8時間）
### **費用**: $0-20

#### **追加構成要素**
- [ ] CloudFrontでのCDN設定
- [ ] S3での静的サイトホスティング
- [ ] Lambda@Edgeでの処理
- [ ] WAFでのセキュリティ強化

#### **比較ポイント**
- 全体的な複雑さの増加
- 管理すべき要素の増加
- パフォーマンスの向上
- コストの変化

---

## 📊 **Phase 5: 比較分析と振り返り**

### **目的**: 3構成の違いを体系的に理解
### **所要時間**: 2日間（4-6時間）

#### **比較軸**
1. **構築の複雑さ**
   - 初期設定の手順数
   - 必要な知識の範囲
   - 詰まりやすいポイント

2. **運用の負荷**
   - 日常的な監視作業
   - アップデート作業
   - 障害対応の複雑さ

3. **コスト構造**
   - 初期費用
   - 月額費用
   - スケール時の費用変化

4. **スケーラビリティ**
   - トラフィック増加への対応
   - データ量増加への対応
   - 機能追加の容易さ

5. **学習コスト**
   - 習得すべき技術の範囲
   - 継続的な学習の必要性

#### **成果物**
- [ ] 詳細比較表の作成
- [ ] 各構成の適用場面の整理
- [ ] 学習で得られた知見のまとめ
- [ ] 今後の学習計画の策定

---

## 🎯 **学習効果を最大化するコツ**

### **1. 記録を詳細に取る**
- 作業時間の記録
- 詰まったポイントと解決方法
- 感情的な反応（「面倒」「怖い」「楽しい」）
- 理解度の変化

### **2. 比較を意識する**
- 同じ作業を異なる環境で実行
- 手順の違いを明確に記録
- 結果の違いを定量的に測定

### **3. 失敗を恐れない**
- 意図的に障害を発生させる
- 復旧手順を実際に試す
- 「壊れても大丈夫」な環境で実験

### **4. コミュニティを活用**
- 詰まったポイントを質問
- 学習記録を共有
- 他の学習者との情報交換

---

## 📚 **参考資料とリンク**

### **公式ドキュメント**
- [Strapi Documentation](https://docs.strapi.io/)
- [Next.js Documentation](https://nextjs.org/docs)
- [Docker Documentation](https://docs.docker.com/)
- [AWS Documentation](https://docs.aws.amazon.com/)
- [Terraform Documentation](https://www.terraform.io/docs)

### **学習リソース**
- [AWS Well-Architected Framework](https://aws.amazon.com/architecture/well-architected/)
- [12 Factor App](https://12factor.net/)
- [Infrastructure as Code Best Practices](https://www.terraform.io/docs/cloud/guides/recommended-practices/index.html)

---

## ✅ **学習完了の判定基準**

### **基本レベル（必須）**
- [ ] 3つの構成すべてで同じアプリケーションをデプロイできる
- [ ] 各構成の特徴と適用場面を説明できる
- [ ] 基本的な運用作業（デプロイ、監視、バックアップ）を実行できる

### **応用レベル（推奨）**
- [ ] 障害発生時の対応手順を実行できる
- [ ] コスト最適化の提案ができる
- [ ] セキュリティ要件に応じた設定変更ができる

### **発展レベル（オプション）**
- [ ] 独自の要件に応じたインフラ設計ができる
- [ ] CI/CDパイプラインを構築できる
- [ ] 監視・アラートシステムを設計できる

---

**🚀 準備ができたら、`docs/phase0-immediate-start.md` から学習を開始しましょう！** 